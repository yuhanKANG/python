구매감소고객 예측모델 

- 회사 비즈니스 상황 정의 및 상응하는 데이터 생성 > 데이터 요약 및 현황 파악
- 20년 대비 21년 구매 변동 사항에 대한 인사이트 설정(3가지 이상)
   ex) 신상품 실패로 여성 고객의 구매 20% 급감 반면 남성 선호 제품 출시로 남성 고객의 구매는 5% 증가
- 설정한 인사이트 데이터 반영 > 데이터 요약 및 설정한 인사이트가 반영되었는지 확인
- 구매감소 고객 예측 모델을 생성하기 위한 데이터 셋 수정 (고객 기준 데이터 셋에 레이블(구매감소 여부) 추가)
- 최적의 구매감소 고객 예측 모델링을 위한 변수 선택 및 파생 변수 생성 > 예측 모델 검증 및 평가
- 구매감소 예측 고객에 대한 대응 방안(구매 감소에 영향을 주는 주요 인사이트를 기반으로 적절한 개선 방안을 제안)
===============

1. 데이터 생성
 1) 고객 데이터 생성
  > distance(치킨집 반경) 데이터 부여
 2) 거래 데이터 생성
 > 치킨 마릿수 가중치 부여
	(1마리 40%, 2마리 20%, 3마리 15%, 4~5마리 15%, 
	6~10마리 5%, 11마리~20마리 2%, 21마리 이상 3%)
 3)고객데이터 + 판매데이터 : 공통 변수 cusno를 활용해 데이터 결합

2. 데이터 요약정보 및 현황 파악
 > 다양한 측면에서 데이터를 보기 위해 거리, 나이 범주화하고 연월일컬럼 생성
before 인사이트1) 연령대별 판매량. 인사이트 부여 전이라 비슷
before 인사이트2) 월별 판매량
before 인사이트3) 주중, 주말 판매량
    > (날짜별로 그룹화한걸 date.dayofweek 함수를 씌워 요일로 만들고)
       요일을 인덱스로 잡아서 요일별 판매량 확인

3. 인사이트 설정 : df2
인사이트 1) 연령별 거래 빈도 조정
 >연령별 가중치
	(10대 20%, 20대 27%, 30대 24%, 40대 12%,
	50대 9%, 60대 5%, 70대 3%)
인사이트 2) 21년도 조류독감 발생으로 인한 거래 감소
 > 21년 3분기 발생, 21년 4분기는 회복세 진입
인사이트 3) 평일/주간 거래 빈도 조정
 > 금토일 거래빈도 증가
인사이트 4) 배달비 인상으로 인한 매출 감소
 > 반경 클수록 (거리3이면) 매출 감소

4. 인사이트 적용 확인 : df3
After 인사이트 1) 연령대별 거래 확인
  >>조류독감으로 21년도 데이터에 영향이 커 전연령 거래감소
- 고연령대 대비 저연령대 거래가 높은 것을 확인(3인사이트1 c+F로)
After 인사이트2) 월별 거래량 확인
After 인사이트3) 요일별 거래량 확인

5. 구매감소 고객 예측 모델을 생성하기 위한 데이터 셋
  > 고객의 기본정보와 20년, 21년 거래량(판매량) 및 금액 지표로 개인별
     20년 대비 21년의 소비금액이 증가했는지 확인(sales)

6. 예측 모델 검증 및 평가
주신 자료로 돌렸는데 수치변동은 미미했다.

결론

- 다양한 상황을 부여하고 의미를 찾으려 했으나 생각만큼 값이 잘 나오지 않음
- 데이터에 변동을 주었을때 그나마 값이 있던 것은 반경.
 > 거리가 멀어 배달비가 비싸질수록 덜 시켜먹음
- 두가지 커다란 변동상황이 겹쳐(조류독감-기간, 요일별-주말)
 데이터상 변동이 있길 바랬지만 미미했음
- 나머지는 원본 및 변동시킨 데이터끼리의 밀접한 상관관계를 찾지 못함